<%- include('../base/header') %>

<div>Airline: <%= flight.airline %></div>
<div>Airport: <%= flight.airport %></div>
<div>Flight Number: <%= flight.flightNo %></div>
<div>Departs: <%= flight.departs %></div>
<div>
    Destination:
    <ul> 
    <% flight.destination.forEach(function(d) { %>
        <li>
            <form action="/flights/<%= flight.id %>/<%= d.id %>?_method=DELETE"
                class="delete-form" method="POST">
                <button type="submit">X</button>
            </form>
            <%= d.airport %> 
            <%= d.arrival %>
        </li>
    <% }); %>
    </ul>
</div>
<div>
    Tickets:
    <table>
        <thead>
            <tr>
                <th>Flight Number</th>
                <th>Seat</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody>
            <% tickets.forEach(function(t) { %>
            <tr>
                <td><%= t.seat %></td>
                <td>$<%= t.price %></td>
            </tr>
            <% }); %>
        </tbody>
    </table>
</div>
    
<h5>Enter a New Destination</h5>
<div class= "form-div">
    <form action="/flights/<%= flight.id %>" method="POST">
        <div class= 'form-group'>
            <h6>Airport</h6>
            <select name= 'airport'>
                <option value='DEN'>DEN</option>
                <option value='AUS'>AUS</option>
                <option value='DFW'>DFW</option>
                <option value='LAX'>LAX</option>
                <option value='SAN'>SAN</option>
            </select> 
        </div>

        <div class= 'form-group'>
            <h6>Arrival</h6>
            <input type= 'datetime-local' name= 'arrival'>
        </div>

        <div class= "form-group">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
</div>
<a href="/flights/<%= flight.id %>/ticket"><button class="btn btn-primary">Add Ticket</button></a>
<%- include('../base/footer') %>